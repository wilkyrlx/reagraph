{"version":3,"file":"CustomLayout-e4e2b87e.js","sources":["../../docs/CustomLayout.mdx"],"sourcesContent":["import { Meta, Story, ArgsTable } from '@storybook/blocks';\n\n<Meta title=\"Docs/Advanced/Custom Layout\" />\n\n# Custom Layout\nYou can provide a custom layout for the graph. This is useful if\nyou want to use a layout we don't provide out of the box or have\na specific layout you wish to use.\n\n## Usage\nTo use a custom layout, you need to set the `layoutType` to `custom` and\nprovide `layoutOverrides` with a `getNodePosition` function that will return\nthe `x/y/z` position for a given node id.\n\nHere is a basic example:\n\n```tsx\nimport { GraphCanvas, CustomLayoutInputs, NodePositionArgs } from 'reagraph';\n\nconst App = () => (\n  <GraphCanvas\n    layoutType=\"custom\"\n    layoutOverrides={{\n      getNodePosition: (id: string, { nodes }: NodePositionArgs) => {\n        const idx = nodes.findIndex(n => n.id === id);\n        const node = nodes[idx];\n\n        // IMPORTANT CODE HERE\n        return {\n          x: 25 * idx,\n          y: idx % 2 === 0 ? 0 : 50,\n          z: 1\n        };\n      }\n    } as CustomLayoutInputs}\n    nodes={simpleNodes}\n    edges={simpleEdges}\n  />\n);\n```\n\nIn this example, the `getNodePosition` function returns a position\nbased on the index found in the graph. This is just a simple example\nto show how to use the `getNodePosition` function.\n\nThe interface for this is as follows:\n\n```ts\n// NOTE: Abbreviated version of the interface\nexport interface LayoutFactoryProps {\n  /**\n   * Get the node position for a given node id.\n   */\n  getNodePosition: (id: string, args: NodePositionArgs) => InternalGraphNode;\n}\n\nexport interface NodePositionArgs {\n  /**\n   * The graphology object. Useful for any graph manipulation.\n   */\n  graph: Graph;\n\n  /**\n   * Any nodes that were dragged. This is useful if you want to override\n   * the position of a node when dragged.\n   */\n  drags?: DragReferences;\n\n  /**\n   * The nodes for the graph.\n   */\n  nodes: InternalGraphNode[];\n\n  /**\n   * The edges for the graph.\n   */\n  edges: InternalGraphEdge[];\n}\n```\n\n## Example\n\n<div style={{ height: 400, width: '100%', position: 'relative', margin: '0 auto', background: 'white', borderRadius: 4, border: '1px solid rgba(0,0,0,.1)', boxShadow: 'rgb(0 0 0 / 10%) 0 1px 3px 0', overflow: 'hidden' }}>\n  <Story id=\"demos-layouts--custom\" />\n</div>\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Meta","Story","MDXContent","MDXLayout"],"mappings":"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"}